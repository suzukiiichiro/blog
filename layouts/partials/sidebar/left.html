<aside class="sidebar left-sidebar sticky">
  <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="{{ T `toggleMenu` }}">
    <span class="hamburger-box">
      <span class="hamburger-inner"></span>
    </span>
  </button>
  <header class="site-info">
    {{ with .Site.Params.sidebar.avatar }}
    {{ if (default true .enabled) }}
    <h1 class="site-name site-avatar">
      <a href="{{ .Site.BaseURL | relLangURL }}">
        {{ if not .local }}
        <img src="{{ .src }}" width="300" height="300" class="site-logo" loading="lazy" alt="{{ .Site.Title }}">
        {{ else }}
        {{ $avatar := resources.Get (.src) }}
        {{ if $avatar }}
        {{ $avatarResized := $avatar.Resize "300x" }}
        <img src="{{ $avatarResized.RelPermalink }}" width="{{ $avatarResized.Width }}" height="{{ $avatarResized.Height }}" class="site-logo" loading="lazy" alt="{{ .Site.Title }}">
        {{ else }}
        {{ errorf "Failed loading avatar from %q" . }}
        {{ end }}
        {{ end }}
      </a>
    </h1>
    {{ end }}
    {{ end }}
    <h2 class="site-description">{{ .Site.Params.sidebar.subtitle }}</h2>
    {{- with .Site.Menus.social -}}
    <ol class="social-menu">
      {{ range . }}
      <li>
        <a href='{{ .URL }}' {{ if eq (default true .Params.newTab) true }} target="_blank" {{ end }} {{ with .Name }} title="{{ . }}" {{ end }}>
          {{ $icon := default "link" .Params.Icon }}
          {{ with $icon }}
          {{ partial "helper/icon" . }}
          {{ end }}
        </a>
      </li>
      {{ end }}
    </ol>
    {{- end -}}
  </header>
  <div id="main-menu">
    <div id="main-menu-area">
      <nav class="menu menu-section" id="categories-menu">
        <ul class="menu-list" id="main-cat">
          <li><a href="{{ .Site.BaseURL | relLangURL }}" id="link-top">TOP</a></li>
          {{ with .Site.GetPage "/categories" }}
          <li>
            <a href="{{ .URL | relLangURL }}" id="link-category">カテゴリ</a>
            <ul class="menu-list">
              {{ range first .Site.Params.widgets.categories.limit .Site.Taxonomies.categories.ByCount }}
              <li>
                <a href="{{ .Page.RelPermalink }}" class="font_size_{{ .Count }}">
                  {{ .Page.Title }}
                </a>
              </li>
              {{ end }}
            </ul>
          </li>
          {{ end }}
        </ul>
      </nav>
      <nav>
        <ol class="menu menu-section">
          {{- $currentPage := . -}}
          {{- $menu := slice -}}
          {{- range .Site.Menus.main -}}
            {{- if .Weight -}}
              {{- $menu = $menu | append . -}}
            {{- end -}}
          {{- end -}}
          {{- range (sort $menu ".Params.menu.main.weight" "asc") -}}
          {{- $active := or (eq $currentPage.Title .Name) (or ($currentPage.HasMenuCurrent "main" .) ($currentPage.IsMenuCurrent "main" .)) -}}
          <li {{- if $active -}} class='current' {{- end -}}>
            <a href='{{- .URL | relLangURL -}}' {{- if eq .Params.newTab true -}} target="_blank" {{- end -}}>
              <span>{{- .Name -}}</span>
            </a>
          </li>
          {{- end -}}
        </ol>
      </nav>
      </div>
    </div>
    {{ if (default false .Site.Params.colorScheme.toggle) }}
    <div id="btn-mode">
      <li id="dark-mode-toggle">
        {{ partial "helper/icon" "toggle-left" }}
        {{ partial "helper/icon" "toggle-right" }}
        <!-- <span>{{ T "darkMode" }}</span> -->
      </li>
    </div>
    {{ end }}
</aside>